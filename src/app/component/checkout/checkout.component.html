<app-loading [loadings]="loading"></app-loading>
<div class="right-column">
    <main class="main-content container-fluid py-5" role="main">
        <div class="row mb-5">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header mb-3">
                        <ul class="nav nav-pills card-header-pills" id="checkoutTabs" role="tablist">
                            <li class="nav-item text-center">
                                <a class="nav-link active mx-auto" href="#tab-7-1" data-toggle="tab" role="tab" aria-controls="tab-7-1" aria-selected="true">1</a> Address
                            </li>
                            <li class="nav-item text-center disabledTab">
                                <a class="nav-link mx-auto" href="#tab-7-2" data-toggle="tab" role="tab" aria-controls="tab-7-2" aria-selected="false">
                                    2</a> Review Order
                            </li>
                            <li class="nav-item text-center disabledTab">
                                <a class="nav-link mx-auto" href="#tab-7-3" data-toggle="tab" role="tab" aria-controls="tab-7-3" aria-selected="false">
                                    3</a> Card Details
                            </li>
                        </ul>
                    </div>
                    <div class="card-body p-0">
                        <div class="tab-content" id="myTabContent-7">
                            <div id="tab-7-1" class="tab-pane fade show px-0 active" role="tabpanel" aria-labelledby="tab-7-1">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="">
                                            <div class="card-header d-flex justify-content-between pt-0 mb-4">
                                                <span class="d-flex align-items-end">Default Address</span>
                                                <a class="scrollLink collapsed new-address" data-toggle="collapse" href="#collapseNewAddress" aria-expanded="false" aria-controls="collapseNewAddress" (click)="scrollNavigate();">
                                                    <button class="btn btn-md btn-outline-secondary waves-effect waves-light">
                                                        <span class="lnr lnr-plus-circle font-weight-bold"></span> Add
                                                        New Address
                                                    </button>
                                                </a>
                                            </div>
                                            <!-- <div class="card-header d-flex justify-content-between pt-0 mb-4">
                        <span class="d-flex align-items-center">Select Delivery Address</span>
                        <button class="btn btn-md btn-outline-secondary waves-effect waves-light mt-0" type="button"
                          data-toggle="modal" data-target="#savedAddress">
                          Select Address
                        </button>
                      </div> -->
                                            <div class="card-body mb-3 pb-0" id="accordion">
                                                <div class="row checkout-address-section">
                                                    <div class="col-md-4 mb-4" *ngFor="let item of addressInfo">
                                                        <div class="saved-address p-0">
                                                            <address class="p-3">
                                                                <div class="d-flex justify-content-between">
                                                                    <h5 class="font-weight-bold">{{item['name']}}<span
                                                                            class="badge badge-pill badge-primary ml-3">{{item['address_type']}}</span>
                                                                    </h5>
                                                                    <div class="custom-control custom-radio customized-checked-radio custom-color-control"
                                                                        data-qp-color="transparent">
                                                                        <input type="radio" class="custom-control-input"
                                                                            [id]="item._id" name="radio-stacked"
                                                                            checked (change)="onSelectionChange(item)">
                                                                        <label class="custom-control-label" [for]="item._id">
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                                <div class="mb-3">
                                                                    {{item['address_line_1']}}
                                                                    {{item['building_name']}}<br>
                                                                    {{item['landmark']}}<br>
                                                                    {{item['street']}} {{item['city']}}<br>
                                                                    {{item['state_id']}}, {{item['pincode']}} <br>
                                                                </div>
                                                                <div><span class="fweight-5">Mobile</span> :
                                                                    {{item['contact']}}</div>
                                                            </address>
                                                            <div class="edit-rmv-container d-flex border-top p-2">
                                                                <a (click)="editAddress(item['_id'])" class="scrollLink w-50 text-center border-right collapsed" data-toggle="collapse" href="#collapseEditAddress" aria-expanded="false" aria-controls="collapseEditAddress">
                                                                    Edit
                                                                </a>
                                                                <a (click)="removeAddress(item['_id'])" class="w-50 text-center">Remove</a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row justify-content-center">
                                                    <div class="col-md-2 mt-2">
                                                        <button type="submit" (click)="nextTab()" class="btn btn-orange btn-gradient btn-block btn-lg position-relative animate" [disabled]="!proceedButton">
                                                            <span class="gradient">Proceed</span>
                                                            <i class="batch-icon batch-icon-arrow-right align-middle ml-1"></i>
                                                        </button>
                                                    </div>
                                                </div>

                                                <ng-container>
                                                    <!-- *ngIf="addressAccess === true" -->
                                                    <div class="row collapse mt-5" id="collapseNewAddress" data-parent="#accordion" aria-labelledby="newAddress">
                                                        <div class="col-md-12">
                                                            <div class="card">
                                                                <div class="card-header">
                                                                    Add New Address
                                                                </div>
                                                                <div class="card-body">
                                                                    <form [formGroup]="addressForm" (ngSubmit)="addAddressUser()">
                                                                        <div class="form-row">
                                                                            <div class="form-group col-md-4">
                                                                                <label for="first-name">Full Name</label>
                                                                                <input type="text" formControlName="name" class="form-control" id="full-name" placeholder="Full Name">

                                                                                <div *ngIf="addressF['name'].errors && (addressF['name'].touched || addressF['name'].dirty)" class="text-danger">
                                                                                    <div *ngIf="addressF['name'].errors.required">
                                                                                        Name is required.
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="form-group col-md-4">
                                                                                <label for="contact">contact</label>
                                                                                <input type="text" formControlName="contact" class="form-control" id="contact" placeholder="Enter contact Number">
                                                                                <div *ngIf="addressF['contact'].errors && (addressF['contact'].touched || addressF['contact'].dirty)" class="text-danger">
                                                                                    <div *ngIf="addressF['contact'].errors.required">
                                                                                        Contact Number is required.
                                                                                    </div>
                                                                                    <div *ngIf="addressF['contact'].errors?.pattern">
                                                                                        Please provide a valid contact number.
                                                                                    </div>
                                                                                    <div *ngIf="addressF['contact'].errors?.minlength">
                                                                                        Contact Number must be 10 digits.
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="form-group col-md-4">
                                                                                <label for="first-name">Address Type</label>
                                                                                <input type="text" formControlName="address_type" class="form-control" id="full-name" placeholder="Type of address">

                                                                                <div *ngIf="addressF['address_type'].errors && (addressF['address_type'].touched || addressF['address_type'].dirty)" class="text-danger">
                                                                                    <div *ngIf="addressF['address_type'].errors.required">
                                                                                        Address type is required.
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                        <div class="form-row">
                                                                            <div class="form-group col-md-6">
                                                                                <label for="address-1">Address</label>
                                                                                <input type="text" formControlName="address_line_1" class="form-control" id="address-1" placeholder="Address">
                                                                                <div *ngIf="addressF['address_line_1'].errors && (addressF['address_line_1'].touched || addressF['address_line_1'].dirty)" class="text-danger">
                                                                                    <div *ngIf="addressF['address_line_1'].errors.required">
                                                                                        Address is required.
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="form-group col-md-6">
                                                                                <label for="address-2">Building Name</label>
                                                                                <input type="text" formControlName="building_name" class="form-control" id="address-3" placeholder="Enter Locality">
                                                                                <div *ngIf="addressF['building_name'].errors && (addressF['building_name'].touched || addressF['building_name'].dirty)" class="text-danger">
                                                                                    <div *ngIf="addressF['building_name'].errors.required">
                                                                                        Building name is required.
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-row">
                                                                            <div class="form-group col-md-6">
                                                                                <label for="address-2">Street</label>
                                                                                <input type="text" formControlName="street" class="form-control" id="address-2" placeholder="Enter Street">
                                                                                <div *ngIf="addressF['street'].errors && (addressF['street'].touched || addressF['street'].dirty)" class="text-danger">
                                                                                    <div *ngIf="addressF['street'].errors.required">
                                                                                        street is required.
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="form-group col-md-6">
                                                                                <label for="address-2">Landmark</label>
                                                                                <input type="text" formControlName="landmark" class="form-control" id="address-2" placeholder="Enter Landmark">
                                                                                <div *ngIf="addressF['landmark'].errors && (addressF['landmark'].touched || addressF['landmark'].dirty)" class="text-danger">
                                                                                    <div *ngIf="addressF['landmark'].errors.required">
                                                                                        landmark is required.
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-row">
                                                                            <div class="form-group col-md-4">
                                                                                <label for="address-2">City</label>
                                                                                <input type="text" formControlName="city" class="form-control" id="address-4" placeholder="Enter street">
                                                                                <div *ngIf="addressF['city'].errors && (addressF['city'].touched || addressF['city'].dirty)" class="text-danger">
                                                                                    <div *ngIf="addressF['city'].errors.required">
                                                                                        City is required.
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="form-group col-md-4">
                                                                                <label for="state">State</label>
                                                                                <select class="form-control" id="state" (change)="onChange($event.target.value)">
                                                                                    <option *ngFor="let state of stateList"
                                                                                        [value]="state">
                                                                                        {{state}}
                                                                                    </option>
                                                                                </select>
                                                                            </div>
                                                                            <div class="form-group col-md-4">
                                                                                <label for="zip-code">Pin Code</label>
                                                                                <input type="text" formControlName="pincode" class="form-control" id="zip-code" placeholder="Enter Pin Code">
                                                                                <div *ngIf="addressF['pincode'].errors && (addressF['pincode'].touched || addressF['pincode'].dirty)" class="text-danger">
                                                                                    <div *ngIf="addressF['pincode'].errors.required">
                                                                                        Pincode is required.
                                                                                    </div>
                                                                                    <div *ngIf="addressF['pincode'].errors?.pattern">
                                                                                        Please provide a valid pincode .
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        {{addressForm.valid}}
                                                                        <div class="form-row">
                                                                            <div class="form-group col-md-2 offset-md-5">
                                                                                <div class="mt-5">
                                                                                    <button type="submit" (click)="addressFormSubmitted()" [disabled]="!addressForm.valid" class="btn btn-orange btn-gradient btn-block btn-lg position-relative waves-effect waves-light">
                                                                                        <span class="gradient">Save</span>
                                                                                    </button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- *ngIf="addressAccessForEdit === true" -->
                                                    <div class="row mt-5 collapse" id="collapseEditAddress" data-parent="#accordion" aria-labelledby="editAddress">
                                                        <div class="col-md-12">
                                                            <div class="card">
                                                                <div class="card-header">
                                                                    Edit Address
                                                                </div>
                                                                <div class="card-body">
                                                                    <form [formGroup]="updateForm" (ngSubmit)="updateUserAddress()">
                                                                        <div class="form-row">
                                                                            <div class="form-group col-md-4">
                                                                                <label for="first-name">Full Name</label>
                                                                                <input type="text" formControlName="name" class="form-control" id="full-name" placeholder="Full Name">

                                                                                <div *ngIf="updateAddressF['name'].errors && (updateAddressF['name'].touched || updateAddressF['name'].dirty)" class="text-danger">
                                                                                    <div *ngIf="updateAddressF['name'].errors.required">
                                                                                        Name is required.
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="form-group col-md-4">
                                                                                <label for="contact">contact</label>
                                                                                <input type="text" formControlName="contact" class="form-control" id="contact" placeholder="Enter contact Number">
                                                                                <div *ngIf="updateAddressF['contact'].errors && (updateAddressF['contact'].touched || updateAddressF['contact'].dirty)" class="text-danger">
                                                                                    <div *ngIf="updateAddressF['contact'].errors.required">
                                                                                        Contact Number is required.
                                                                                    </div>
                                                                                    <div *ngIf="updateAddressF['contact'].errors?.pattern">
                                                                                        Please provide a valid contact number.
                                                                                    </div>
                                                                                    <div *ngIf="updateAddressF['contact'].errors?.minlength">
                                                                                        Contact Number must be 10 digits.
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="form-group col-md-4">
                                                                                <label for="first-name">Address Type</label>
                                                                                <input type="text" formControlName="address_type" class="form-control" id="full-name" placeholder="Type of address">

                                                                                <div *ngIf="updateAddressF['address_type'].errors && (updateAddressF['address_type'].touched || updateAddressF['address_type'].dirty)" class="text-danger">
                                                                                    <div *ngIf="updateAddressF['address_type'].errors.required">
                                                                                        Address type is required.
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                        <div class="form-row">
                                                                            <div class="form-group col-md-6">
                                                                                <label for="address-1">Address</label>
                                                                                <input type="text" formControlName="address_line_1" class="form-control" id="address-1" placeholder="Address">
                                                                                <div *ngIf="updateAddressF['address_line_1'].errors && (updateAddressF['address_line_1'].touched || updateAddressF['address_line_1'].dirty)" class="text-danger">
                                                                                    <div *ngIf="updateAddressF['address_line_1'].errors.required">
                                                                                        Address is required.
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="form-group col-md-6">
                                                                                <label for="address-2">Building Name</label>
                                                                                <input type="text" formControlName="building_name" class="form-control" id="address-3" placeholder="Enter Locality">
                                                                                <div *ngIf="updateAddressF['building_name'].errors && (updateAddressF['building_name'].touched || updateAddressF['building_name'].dirty)" class="text-danger">
                                                                                    <div *ngIf="updateAddressF['building_name'].errors.required">
                                                                                        Building name is required.
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-row">
                                                                            <div class="form-group col-md-6">
                                                                                <label for="address-2">Street</label>
                                                                                <input type="text" formControlName="street" class="form-control" id="address-2" placeholder="Enter Street">
                                                                                <div *ngIf="updateAddressF['street'].errors && (updateAddressF['street'].touched || updateAddressF['street'].dirty)" class="text-danger">
                                                                                    <div *ngIf="updateAddressF['street'].errors.required">
                                                                                        street is required.
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="form-group col-md-6">
                                                                                <label for="address-2">Landmark</label>
                                                                                <input type="text" formControlName="landmark" class="form-control" id="address-2" placeholder="Enter Landmark">
                                                                                <div *ngIf="updateAddressF['landmark'].errors && (updateAddressF['landmark'].touched || updateAddressF['landmark'].dirty)" class="text-danger">
                                                                                    <div *ngIf="updateAddressF['landmark'].errors.required">
                                                                                        landmark is required.
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-row">
                                                                            <div class="form-group col-md-4">
                                                                                <label for="address-2">City</label>
                                                                                <input type="text" formControlName="city" class="form-control" id="address-4" placeholder="Enter street">
                                                                                <div *ngIf="updateAddressF['city'].errors && (updateAddressF['city'].touched || updateAddressF['city'].dirty)" class="text-danger">
                                                                                    <div *ngIf="updateAddressF['city'].errors.required">
                                                                                        City is required.
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="form-group col-md-4">
                                                                                <label for="state">State</label>
                                                                                <select class="form-control" id="state" (change)="onChange($event.target.value)" formControlName="state">
                                                                                    <option *ngFor="let states of stateList"
                                                                                        [value]="states">
                                                                                        {{states}}
                                                                                    </option>
                                                                                </select>
                                                                            </div>
                                                                            <div class="form-group col-md-4">
                                                                                <label for="zip-code">Pin Code</label>
                                                                                <input type="text" formControlName="pincode" class="form-control" id="zip-code" placeholder="Enter Pin Code">
                                                                                <div *ngIf="updateAddressF['pincode'].errors && (updateAddressF['pincode'].touched || updateAddressF['pincode'].dirty)" class="text-danger">
                                                                                    <div *ngIf="updateAddressF['pincode'].errors.required">
                                                                                        Pincode is required.
                                                                                    </div>
                                                                                    <div *ngIf="updateAddressF['pincode'].errors?.pattern">
                                                                                        Please provide a valid pincode .
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-row">
                                                                            <div class="form-group col-md-2 offset-md-5">
                                                                                <div class="mt-4">
                                                                                    <button type="submit" (click)="editFormSubmitted()" [disabled]="!updateForm.valid" class="btn btn-orange btn-gradient btn-block btn-lg position-relative waves-effect waves-light">
                                                                                        <span class="gradient">Save</span>
                                                                                    </button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-container>

                                                <div class="row">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>



                            <div id="tab-7-2" class="tab-pane fade" role="tabpanel" aria-labelledby="tab-7-2">
                                <div class="row">
                                    <div class="col-md-9">
                                        <div class="border">
                                            <!-- <div class="card-header">
                          2. Review Your Order
                        </div> -->
                                            <div class="card-table table-responsive pb-0">
                                                <table class="table table-hover align-middle">
                                                    <thead class="thead-light">
                                                        <tr>
                                                            <th></th>
                                                            <th>Product Name</th>
                                                            <th class="text-center">Quantity</th>
                                                            <th class="text-right">Total</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <!-- {{item['common_blocks'][0]['color']}} -->
                                                        <tr *ngFor="let item of shoppingCart">
                                                            <td *ngIf="item">
                                                                <div class="media">
                                                                    <div class="product-picture bg-primary d-flex mr-3">
                                                                        <img [src]="item['primary_image']" width="70" height="77">
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <a class="text-black fweight-6"> {{item['name']}}</a>
                                                                <div>
                                                                    <span class="boldness-medium">Color: </span>
                                                                    <span class="boldness-medium">
                                                                        Size: {{item['selected_size'] | titlecase}}</span>

                                                                </div>
                                                            </td>
                                                            <td class="text-center fweight-6">
                                                                {{item['quantity_selected']}}
                                                            </td>
                                                            <td class="text-right fweight-6">
                                                                Rs. {{item['selected_price']* item['quantity_selected']}}
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="border">
                                            <div class="card-table table-responsive pb-0">
                                                <table class="table table-hover align-middle">
                                                    <thead class="thead-light">
                                                        <tr>
                                                            <th>Price Detail</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td class="text-right fweight-6">
                                                                Bag Total:
                                                            </td>
                                                            <td class="text-right fweight-6">
                                                                Rs.{{shoppingdetail}}
                                                            </td>
                                                        </tr>
                                                        <tr *ngIf="!bag_price && !cashbackAmount">
                                                            <td class="text-right">
                                                                Bag Discount:
                                                            </td>
                                                            <td class="text-right text-success">Rs.{{shoppingdetail-bag_price}}
                                                            </td>
                                                        </tr>

                                                        <tr *ngIf="cashbackAmount">
                                                            <td class="text-right">
                                                                Bag Discount:
                                                            </td>
                                                            <td class="text-right text-success"> {{cashbackAmount}}</td>
                                                        </tr>

                                                        <tr *ngIf="bag_price">
                                                            <td class="text-right">
                                                                Bag Discount:
                                                            </td>
                                                            <td class="text-right text-success"> {{shoppingdetail-bag_price}}</td>
                                                        </tr>
                                                        <!-- <tr>
                                                            <td class="text-right fweight-6">
                                                                Sub Total:
                                                            </td>
                                                            <td class="text-right fweight-6">
                                                                Rs. {{shoppingdetail}}
                                                            </td>
                                                        </tr> -->
                                                        <tr>
                                                            <td class="text-right">
                                                                Estimated Tax:
                                                            </td>
                                                            <td class="text-right">
                                                                Rs. 0.0
                                                            </td>
                                                        </tr>
                                                        <!-- <tr>
                                                            <td class="text-right">
                                                                Coupon Disount:
                                                            </td>
                                                            <td class="text-right">
                                                                Rs. 0.0
                                                            </td>
                                                        </tr> -->
                                                        <tr>
                                                            <td class="text-right">
                                                                Delivery:
                                                            </td>
                                                            <td class="text-right text-success">
                                                                Free
                                                            </td>
                                                        </tr>
                                                        <tr *ngIf="cashbackAmount">
                                                            <td class="text-right">
                                                                <strong>Total Payable:</strong>
                                                            </td>
                                                            <td class="text-right" *ngIf="shoppingdetail">
                                                                <strong>
                                                                    Rs. {{shoppingdetail}}
                                                                </strong>
                                                            </td>
                                                        </tr>


                                                        <tr *ngIf="bag_price">
                                                            <td class="text-right">
                                                                <strong>Total Payable:</strong>
                                                            </td>
                                                            <td class="text-right" *ngIf="shoppingdetail">
                                                                <strong>
                                                                    Rs. {{bag_price}}
                                                                </strong>
                                                            </td>
                                                        </tr>

                                                        <tr *ngIf="!bag_price && !cashbackAmount">
                                                            <td class="text-right">
                                                                <strong>Total Payable:</strong>
                                                            </td>
                                                            <td class="text-right" *ngIf="shoppingdetail">
                                                                <strong>
                                                                    Rs. {{shoppingdetail}}
                                                                </strong>
                                                            </td>
                                                        </tr>

                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="my-3">
                                            <button type="submit" (click)="nextTab()" class="btn btn-orange btn-gradient btn-block btn-lg position-relative animate">
                                                <span class="gradient">Proceed To Pay</span>
                                                <i class="batch-icon batch-icon-arrow-right align-middle ml-1"></i>
                                            </button>
                                        </div>
                                    </div>

                                </div>
                            </div>

                            <div id="tab-7-3" class="tab-pane fade" role="tabpanel" aria-labelledby="tab-7-3">
                                <div class="row" *ngIf="successmsg">
                                    <div class="col-md-12 col-lg-6 credit-card-section">
                                        <div class="">
                                            <div class="card-header d-flex justify-content-between pt-0 mx-0 mb-4">
                                                <span class="d-flex align-items-center">Enter payment details </span>
                                                <!-- <button class="btn btn-md btn-outline-secondary waves-effect waves-light mt-0" type="button"
                          data-toggle="modal" data-target="#savedCard">
                          Add from Card
                        </button> -->
                                            </div>
                                            <div class="card-body p-0">
                                                <form class="mb-3" [formGroup]="checkoutForm" (ngSubmit)="checkoutUser(checkoutForm.controls, shoppingdetail)">
                                                    <div class="form-group">
                                                        <label for="name-on-card">Name On Card</label>
                                                        <input class="form-control" formControlName="cardName" placeholder="Enter Cardholder Name" name="card-number" type="text" data-stripe="name">
                                                    </div>
                                                    <div *ngIf="checkoutF['cardName'].errors && (checkoutF['cardName'].touched || checkoutF['cardName'].dirty)" class="text-danger">
                                                        <div *ngIf="checkoutF['cardName'].errors.required">
                                                            Name is required.
                                                        </div>
                                                    </div>
                                                    <!-- <img class="img-fluid" src="assets/img/ecommerce/payment-logo.jpg" /> -->
                                                    <div class="row">
                                                        <div class="col-md-8">
                                                            <div class="form-group">
                                                                <label for="credit-card">Card Number</label>
                                                                <input type="text" formControlName="cardNumber" maxlength="16" class="form-control" id="credit-card" placeholder="0000000000000000">
                                                            </div>
                                                            <div *ngIf="checkoutF['cardNumber'].errors && (checkoutF['cardNumber'].touched || checkoutF['cardNumber'].dirty)" class="text-danger">
                                                                <div *ngIf="checkoutF['cardNumber'].errors.required">
                                                                    Card number is required.
                                                                </div>
                                                                <div *ngIf="checkoutF['cardNumber'].errors?.pattern">
                                                                    Card number is invalid.
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <label for="cvv">CVV</label>
                                                                <input class="form-control" formControlName="cvc" name="cvc" type="text" placeholder="CVC" maxlength="3" data-stripe="cvc">
                                                            </div>
                                                            <div *ngIf="checkoutF['cvc'].errors && (checkoutF['cvc'].touched || checkoutF['cvc'].dirty)" class="text-danger">
                                                                <div *ngIf="checkoutF['cvc'].errors.required">
                                                                    cvv is required.
                                                                </div>
                                                                <div *ngIf="checkoutF['cvc'].errors?.pattern">
                                                                    cvv is invalid.
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <label for="exp-month">Expiry Month</label>
                                                                <input class="form-control" formControlName="expiryMonth" name="expiry-month" maxlength="2" placeholder="MM" data-stripe="exp_month">
                                                            </div>
                                                            <div *ngIf="checkoutF['expiryMonth'].errors && (checkoutF['expiryMonth'].touched || checkoutF['expiryMonth'].dirty)" class="text-danger">
                                                                <div *ngIf="checkoutF['expiryMonth'].errors.required">
                                                                    Expiry Month is required.
                                                                </div>
                                                                <div *ngIf="checkoutF['expiryMonth'].errors?.pattern">
                                                                    Expiry Month is invalid.
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <label for="exp-year">Expiry Year</label>
                                                                <input class="form-control" formControlName="expiryYear" name="expiry-month" maxlength="2" placeholder="YY" type="text" data-stripe="expiryYear">
                                                            </div>
                                                            <div *ngIf="checkoutF['expiryYear'].errors && (checkoutF['expiryYear'].touched || checkoutF['expiryYear'].dirty)" class="text-danger">
                                                                <div *ngIf="checkoutF['expiryYear'].errors.required">
                                                                    Expiry Year is required.
                                                                </div>
                                                                <div *ngIf="checkoutF['expiryYear'].errors?.pattern">
                                                                    Expiry year is invalid.
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-12 mt-4">
                                                            <button class="btn btn-orange btn-gradient btn-block btn-lg position-relative animate" [disabled]="!checkoutForm.valid" (click)="screenResize()">
                                                                <span class="gradient">Make Payment</span>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row" *ngIf="shoppingkey">
                                    <div class="col-md-12">
                                        <div class="payment-success-container text-center pb-5">
                                            <img src="assets/img/payment-success.png" width="120" alt="payment-success">
                                            <h1 class="mb-0">Thank You!</h1>
                                            <h3>Your Order has been placed successfully</h3>
                                            <h5>Your order confirmation number is:</h5>
                                            <h2>{{orderKey}}</h2>
                                            <button class="btn btn-success" (click)="moveToDashboard()">Continue
                                                Shopping
                                                <i class="batch-icon batch-icon-arrow-right align-bottom"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>